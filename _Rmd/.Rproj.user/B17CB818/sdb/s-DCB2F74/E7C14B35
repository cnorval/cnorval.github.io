{
    "contents" : "library(dplyr)\nlibrary(data.table)\nlibrary(ggplot2)\nlibrary(tidyr)\n\n\n\nknitPost <- function(site.path='~/source/cnorval.github.io/', overwriteAll=F, overwriteOne=NULL) {\n  if(!'package:knitr' %in% search()) library('knitr')\n  \n  ## Blog-specific directories.  This will depend on how you organize your blog.\n  site.path <- site.path # directory of jekyll blog (including trailing slash)\n  rmd.path <- paste0(site.path, \"_Rmd\") # directory where your Rmd-files reside (relative to base)\n  fig.dir <- \"assets/Rfig/\" # directory to save figures\n  posts.path <- paste0(site.path, \"_posts\") # directory for converted markdown files\n  cache.path <- paste0(site.path, \"_cache\") # necessary for plots\n  \n  render_jekyll(highlight = \"pygments\")\n  opts_knit$set(base.url = '/', base.dir = site.path)\n  opts_chunk$set(fig.path=fig.dir, fig.width=8.5, fig.height=5.25, dev='png', cache=F, \n                 warning=F, message=F, cache.path=cache.path, tidy=F)   \n  \n  \n  setwd(rmd.path) # setwd to base\n  \n  # some logic to help us avoid overwriting already existing md files\n  files.rmd <- data.frame(rmd = list.files(path = rmd.path,\n                                           full.names = T,\n                                           pattern = \"\\\\.Rmd$\",\n                                           ignore.case = T,\n                                           recursive = F), stringsAsFactors=F)\n  files.rmd$corresponding.md.file <- paste0(posts.path, \"/\", basename(gsub(pattern = \"\\\\.Rmd$\", replacement = \".md\", x = files.rmd$rmd)))\n  files.rmd$corresponding.md.exists <- file.exists(files.rmd$corresponding.md.file)\n  \n  ## determining which posts to overwrite from parameters overwriteOne & overwriteAll\n  files.rmd$md.overwriteAll <- overwriteAll\n  if(is.null(overwriteOne)==F) files.rmd$md.overwriteAll[grep(overwriteOne, files.rmd[,'rmd'], ignore.case=T)] <- T\n  files.rmd$md.render <- F\n  for (i in 1:dim(files.rmd)[1]) {\n    if (files.rmd$corresponding.md.exists[i] == F) {\n      files.rmd$md.render[i] <- T\n    }\n    if ((files.rmd$corresponding.md.exists[i] == T) && (files.rmd$md.overwriteAll[i] == T)) {\n      files.rmd$md.render[i] <- T\n    }\n  }\n  \n  # For each Rmd file, render markdown (contingent on the flags set above)\n  for (i in 1:dim(files.rmd)[1]) {\n    if (files.rmd$md.render[i] == T) {\n      out.file <- knit(as.character(files.rmd$rmd[i]), \n                       output = as.character(files.rmd$corresponding.md.file[i]),\n                       envir = parent.frame(), \n                       quiet = T)\n      message(paste0(\"KnitPost(): \", basename(files.rmd$rmd[i])))\n    }     \n  }\n  \n}",
    "created" : 1447599782175.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4189535036",
    "id" : "E7C14B35",
    "lastKnownWriteTime" : 1447600852,
    "path" : "~/source/cnorval.github.io/_Rmd/.Rprofile",
    "project_path" : ".Rprofile",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "type" : "r_source"
}